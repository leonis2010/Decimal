# s21_decimal ‚Äî 128-bit Decimal Arithmetic Library

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

`s21_decimal` ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞ —è–∑—ã–∫–µ C –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –¥–µ—Å—è—Ç–∏—á–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è –¥–æ **28‚Äì29 –∑–Ω–∞—á–∞—â–∏—Ö —Ü–∏—Ñ—Ä** –∏ **–º–∞—Å—à—Ç–∞–± (scale) –æ—Ç 0 –¥–æ 28**. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç–∏–ø `s21_decimal`, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π `System.Decimal` –≤ C# –∏–ª–∏ `decimal.Decimal` –≤ Python, –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏ –Ω–∞—É—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –≥–¥–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å.

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `s21_add` ‚Äî —Å–ª–æ–∂–µ–Ω–∏–µ  
- `s21_sub` ‚Äî –≤—ã—á–∏—Ç–∞–Ω–∏–µ  
- `s21_mul` ‚Äî —É–º–Ω–æ–∂–µ–Ω–∏–µ  
- `s21_div` ‚Äî –¥–µ–ª–µ–Ω–∏–µ  

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- `s21_from_int_to_decimal`
- `s21_from_float_to_decimal`
- `s21_from_decimal_to_int`
- `s21_from_decimal_to_float`

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `s21_floor` ‚Äî –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–Ω–∏–∑  
- `s21_round` ‚Äî –±–∞–Ω–∫–æ–≤—Å–∫–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ  
- `s21_truncate` ‚Äî –æ—Ç–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç–∏  
- `s21_negate` ‚Äî —Å–º–µ–Ω–∞ –∑–Ω–∞–∫–∞  

### –°—Ä–∞–≤–Ω–µ–Ω–∏—è
- `s21_is_less`
- `s21_is_less_or_equal`
- `s21_is_greater`
- `s21_is_greater_or_equal`
- `s21_is_equal`
- `s21_is_not_equal`

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```c
typedef struct {
    int bits[4];
} s21_decimal;
```
- **bits[0‚Äì2]** ‚Äî –º–∞–Ω—Ç–∏—Å—Å–∞ (96 –±–∏—Ç)  
- **bits[3]** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - –±–∏—Ç 31: –∑–Ω–∞–∫ (`0` = –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ, `1` = –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ)
  - –±–∏—Ç—ã 16‚Äì23: –º–∞—Å—à—Ç–∞–± (scale, –æ—Ç 0 –¥–æ 28)
  - –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±–∏—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω—É–ª—è–º–∏

## üöÄ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- GCC (–∏–ª–∏ Clang)
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ [Check](https://libcheck.github.io/check/) –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤
- GNU Make

### –°–±–æ—Ä–∫–∞
```bash
make all
```
### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
make test
./test.out
```
### –û—Ç—á—ë—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
make gcov_report
```
### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#include "s21_decimal.h"
```bash
int main() {
    s21_decimal a, b, result;
    s21_from_int_to_decimal(10, &a);
    s21_from_float_to_decimal(0.1f, &b);

    int status = s21_add(a, b, &result);
    if (status == ARITHMETIC_CALCULATION_OK) {
        // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å result
    }

    return 0;
}
```
## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç:
- **—Ä—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã** –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
- **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã** –¥–ª—è –≤—Å–µ—Ö –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π  
- –ø—Ä–æ–≤–µ—Ä–∫—É –æ—à–∏–±–æ–∫: –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ (`TOO_LARGE` / `TOO_LEAST`), –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å (`DIV_BY_ZERO`), –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (`ARITHMETIC_ERROR`)

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–¥—ã –≤–æ–∑–≤—Ä–∞—Ç–∞:
- `ARITHMETIC_CALCULATION_OK` ‚Äî —É—Å–ø–µ—Ö  
- `ARITHMETIC_ERROR` ‚Äî –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç —á–∏—Å–ª–∞  
- `DIV_BY_ZERO` ‚Äî –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å  
- `TOO_LARGE` ‚Äî –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞  
- `TOO_LEAST` ‚Äî –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞  
- `CONVERSION_ERROR` ‚Äî –æ—à–∏–±–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è  
- `OTHER_CALCULATION_ERROR` ‚Äî –ø—Ä–æ—á–∏–µ –æ—à–∏–±–∫–∏
